```bash
sudo apt-get update
```



#如果之前没有安装过 git，执行下面的命令安装一下
```bash
sudo apt-get install git-core
```



# 下载 wiringPi

git clone https://github.com/WiringPi/WiringPi
#编译 wiringPi
cd WiringPi
sudo ./build

# 编译程序并运行

```bash
gcc -Wall -o dht11 dht11.c -lwiringPi
sudo ./dht11
```



# 实验原理

![](img\12472291-c9ce819fb1cb816f.jpg)

温湿度传感器

![](img\12472291-5e45de960a3e7a60.png)

温湿度传感器模块原理图

DHT11是一款价格便宜，易于使用的温度湿度测量二合一传感器。它具有超小体积、极低功耗的特点。它使用单根总线与单片机进行双向的串行数据传输，信号传输距离可达20米以上。非常适用于对精度和实时性要求不高的温湿度测量场合。

![](img\12472291-7f9f86a8c2ff7842.png)

------

  数据总线DATA使用上拉电阻拉高，因此总线空闲时为高电平。上拉电阻阻值推荐范围：4.7K~5.1K。必要时在VDD和GND之间并一个100nF的去耦电容。

## DHT11的数据格式

 DATA 用于树莓派与DHT11之间的通讯和同步，采用单总线数据格式，一次通讯时间4ms左右，数据分小数部分和整数部分，具体格式在下面说明，操作流程如下:

![](img\12472291-030c8753727ce089.png)

DHT11用的是单总线协议，一次传送40位的数据。     注意了，看到这一句话，也就是说我们每次读取DHT11的数据时，都要一次性读取40次，也就是读取40位。并且数据前16位是与湿度相关的，中间16位是与温度相关的，最后八位是用来校验的，当我们校验成功后，证明这一次的温湿度结果正确的，我们的树莓派就可以使用这个温湿度值；如果校验不通过，那么就代表我们这次读取出来的温湿度值，是错误的（也许是我们的时序错误了，也许是传感器的问题），我们不进行采样。

![](img\12472291-8d7161f9a9cd2859.png)

